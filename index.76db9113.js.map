{"mappings":"YAAA,IAAMA,EAAYC,SAASC,cAAc,aACnCC,EAAWF,SAASC,cAAc,WAClCE,EAAaH,SAASC,cAAc,YACpCG,EAAaJ,SAASC,cAAc,aAejC,SAAAI,EAAiBC,GACxBA,EAAIC,iBAEJ,IAAwBC,EAAAF,EAAIG,cAAcC,SAAlCC,EAAgBH,EAAhBG,MAAOC,EAASJ,EAATI,MA6BjB,SAAwBC,GACtB,IAAMC,EAAU,CACdC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBJ,KAAMK,KAAKC,UAAUL,IAGvB,OAAOM,MAAM,6CAA8CL,GAASM,MAClE,SAAAC,GACE,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,YAEvB,OAAOH,EAAKI,M,KArChBC,CALa,CACXf,MAAOA,EAAMgB,MACbf,KAAMA,EAAKe,QAIVP,MAAK,SAAAQ,GACJ7B,EAAU8B,mBAAmB,YAanC,SAA0BC,G,IAAEC,EAAFD,EAAEC,GAAIpB,EAANmB,EAAMnB,MAAOC,EAAbkB,EAAalB,KACrC,MAAO,gBACCoB,OADeD,EAAG,gBAEnBC,OADCrB,EAAM,kBACFqB,OAALpB,EAAK,gB,CAhBkCqB,CAAiBL,G,IAE5DM,OAAM,WACL9B,EAAW+B,UAAY,wB,IAExBC,SAAQ,WACPjC,EAAWgC,UAAY,GACvBE,YAAW,WACTjC,EAAW+B,UAAY,E,GACtB,I,IAjCTjC,EAASoC,iBAAiB,SAE1B,WACEnC,EAAWgC,UAAa,mPAKXnC,SAASC,cAAc,gBAC/BqC,iBAAiB,SAAUjC,E","sources":["src/js/index.js"],"sourcesContent":["const listPosts = document.querySelector('.js-posts');\nconst addtPost = document.querySelector('.js-add');\nconst formWraper = document.querySelector('.js-form');\nconst errMessage = document.querySelector('.js-error');\n\naddtPost.addEventListener('click', handlerAddPost);\n\nfunction handlerAddPost() {\n  formWraper.innerHTML = `<form action=\"submit\" class=\"js-form-add\" style=\"display:flex;flex-direction:column;\">\n    <input type=\"text\" name=\"title\" />\n    <textarea name=\"body\" cols=\"\" rows=\"\"></textarea>\n    <button type=\"submit\">Додати пост</button>\n  </form>`;\n  const form = document.querySelector('.js-form-add');\n  form.addEventListener('submit', handleFormSubmit);\n}\n\n//--------ДАНІ ФОРМИ-----------\nfunction handleFormSubmit(evt) {\n  evt.preventDefault();\n\n  const { title, body } = evt.currentTarget.elements;\n  const data = {\n    title: title.value,\n    body: body.value,\n  };\n\n  addPostService(data)\n    .then(obj => {\n      listPosts.insertAdjacentHTML('beforeend', createPostMarkup(obj));\n    })\n    .catch(() => {\n      errMessage.innerHTML = 'Не можливо додати пост';\n    })\n    .finally(() => {\n      formWraper.innerHTML = '';\n      setTimeout(() => {\n        errMessage.innerHTML = '';\n      }, 2000);\n    });\n}\n\nfunction createPostMarkup({ id, title, body }) {\n  return `<li data-id=\"${id}\">\n    <h2>${title}</h2>\n    <p>${body}</p>\n  </li>`;\n}\n\n//--------ВІДПРАВКА ДАНИХ(ПОСТ)-----------\nfunction addPostService(data) {\n  const options = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(data),\n  };\n\n  return fetch('https://jsonplaceholder.typicode.com/posts', options).then(\n    resp => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }\n  );\n}\n"],"names":["$44ae6d9db4eaca0f$var$listPosts","document","querySelector","$44ae6d9db4eaca0f$var$addtPost","$44ae6d9db4eaca0f$var$formWraper","$44ae6d9db4eaca0f$var$errMessage","$44ae6d9db4eaca0f$var$handleFormSubmit","evt","preventDefault","_elements","currentTarget","elements","title","body","data","options","method","headers","JSON","stringify","fetch","then","resp","ok","Error","statusText","json","$44ae6d9db4eaca0f$var$addPostService","value","obj","insertAdjacentHTML","param","id","concat","$44ae6d9db4eaca0f$var$createPostMarkup","catch","innerHTML","finally","setTimeout","addEventListener"],"version":3,"file":"index.76db9113.js.map"}