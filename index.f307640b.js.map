{"mappings":"AAAA,MAAMA,EAAYC,SAASC,cAAc,aACnCC,EAAWF,SAASC,cAAc,WAClCE,EAAaH,SAASC,cAAc,YACpCG,EAAaJ,SAASC,cAAc,aAejC,SAAAI,EAAiBC,GACxBA,EAAIC,iBAEJ,MAAMC,MAAEA,EAAKC,KAAEA,GAASH,EAAII,cAAcC,UA6B5C,SAAwBC,GACtB,MAAMC,EAAU,CACdC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBN,KAAMO,KAAKC,UAAUL,IAGvB,OAAOM,MAAM,6CAA8CL,GAASM,MAClEC,IACE,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,YAEvB,OAAOH,EAAKI,MAAM,G,EArCtBC,CALa,CACXjB,MAAOA,EAAMkB,MACbjB,KAAMA,EAAKiB,QAIVP,MAAKQ,IACJ5B,EAAU6B,mBAAmB,YAanC,UAA0BC,GAAEA,EAAErB,MAAEA,EAAKC,KAAEA,IACrC,MAAO,gBAAgBoB,gBACfrB,kBACDC,gB,CAhBuCqB,CAAiBH,GAAK,IAEjEI,OAAM,KACL3B,EAAW4B,UAAY,wBAAwB,IAEhDC,SAAQ,KACP9B,EAAW6B,UAAY,GACvBE,YAAW,KACT9B,EAAW4B,UAAY,EAAE,GACxB,IAAK,G,CAjCd9B,EAASiC,iBAAiB,SAE1B,WACEhC,EAAW6B,UAAY,mPAKVhC,SAASC,cAAc,gBAC/BkC,iBAAiB,SAAU9B,E","sources":["src/js/index.js"],"sourcesContent":["const listPosts = document.querySelector('.js-posts');\nconst addtPost = document.querySelector('.js-add');\nconst formWraper = document.querySelector('.js-form');\nconst errMessage = document.querySelector('.js-error');\n\naddtPost.addEventListener('click', handlerAddPost);\n\nfunction handlerAddPost() {\n  formWraper.innerHTML = `<form action=\"submit\" class=\"js-form-add\" style=\"display:flex;flex-direction:column;\">\n    <input type=\"text\" name=\"title\" />\n    <textarea name=\"body\" cols=\"\" rows=\"\"></textarea>\n    <button type=\"submit\">Додати пост</button>\n  </form>`;\n  const form = document.querySelector('.js-form-add');\n  form.addEventListener('submit', handleFormSubmit);\n}\n\n//--------ДАНІ ФОРМИ-----------\nfunction handleFormSubmit(evt) {\n  evt.preventDefault();\n\n  const { title, body } = evt.currentTarget.elements;\n  const data = {\n    title: title.value,\n    body: body.value,\n  };\n\n  addPostService(data)\n    .then(obj => {\n      listPosts.insertAdjacentHTML('beforeend', createPostMarkup(obj));\n    })\n    .catch(() => {\n      errMessage.innerHTML = 'Не можливо додати пост';\n    })\n    .finally(() => {\n      formWraper.innerHTML = '';\n      setTimeout(() => {\n        errMessage.innerHTML = '';\n      }, 2000);\n    });\n}\n\nfunction createPostMarkup({ id, title, body }) {\n  return `<li data-id=\"${id}\">\n    <h2>${title}</h2>\n    <p>${body}</p>\n  </li>`;\n}\n\n//--------ВІДПРАВКА ДАНИХ(ПОСТ)-----------\nfunction addPostService(data) {\n  const options = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(data),\n  };\n\n  return fetch('https://jsonplaceholder.typicode.com/posts', options).then(\n    resp => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }\n  );\n}\n"],"names":["$85a5f86b715fe7db$var$listPosts","document","querySelector","$85a5f86b715fe7db$var$addtPost","$85a5f86b715fe7db$var$formWraper","$85a5f86b715fe7db$var$errMessage","$85a5f86b715fe7db$var$handleFormSubmit","evt","preventDefault","title","body","currentTarget","elements","data","options","method","headers","JSON","stringify","fetch","then","resp","ok","Error","statusText","json","$85a5f86b715fe7db$var$addPostService","value","obj","insertAdjacentHTML","id","$85a5f86b715fe7db$var$createPostMarkup","catch","innerHTML","finally","setTimeout","addEventListener"],"version":3,"file":"index.f307640b.js.map"}